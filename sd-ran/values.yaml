# SPDX-FileCopyrightText: 2020-present Open Networking Foundation <info@opennetworking.org>
#
# SPDX-License-Identifier: LicenseRef-ONF-Member-1.0

# Default values for all SD-RAN Helm charts.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

global:
  fullnameOverride: "onos"
  nameOverride: ""
  image:
    registry: ""
    tag: ""
  storage:
    controller: "atomix-controller.kube-system.svc.cluster.local:5679"
    consensus:
      enabled: true
      name: ""
      type: raft
      image: ""
      imagePullPolicy: IfNotPresent
      partitions: 1
      replicas: 1
      partitionsPerCluster: 1

import:
  onos-topo:
    enabled: true
  onos-e2t:
    enabled: true
  onos-e2sub:
    enabled: true
  onos-o1t:
    enabled: false
  onos-config:
    enabled: true
  onos-sdran-cli:
    enabled: true
  ran-simulator:
    enabled: false
  onos-gui:
    enabled: false
  nem-monitoring:
    enabled: false
  onos-kpimon:
    enabled: false

# NEM-Monitoring
nem-monitoring:
  prometheus:
    serverFiles:
      prometheus.yml:
        scrape_configs:
          - job_name: 'onos-ric'
            metrics_path: /metrics
            scrape_interval: 1s
            static_configs:
              - targets:
                  - onos-ric.micro-onos.svc.cluster.local:7000
          - job_name: 'onos-ric-ho'
            metrics_path: /metrics
            scrape_interval: 1s
            static_configs:
              - targets:
                  - onos-ric-ho.micro-onos.svc.cluster.local:7001
          - job_name: 'onos-ric-mlb'
            metrics_path: /metrics
            scrape_interval: 1s
            static_configs:
              - targets:
                  - onos-ric-mlb.micro-onos.svc.cluster.local:7002
          - job_name: 'ran-simulator'
            metrics_path: /metrics
            scrape_interval: 1s
            static_configs:
              - targets:
                  - ran-simulator.micro-onos.svc.cluster.local:9090
  dashboards:
    nodeExporter: false
    sdran: true
  kpi_exporter: 
    enabled: false
  grafana:
    datasources:
      datasources.yaml:
        apiVersion: 1
        datasources:
          - name: Prometheus
            type: prometheus
            url: http://sd-ran-prometheus-server
            access: proxy
            isDefault: true

onos-topo:
  storage:
    consensus:
      enabled: false

onos-config:
  storage:
    consensus:
      enabled: false
  plugins:
    - name: ric
      version: 1.0.0
      image:
        repository: onosproject/config-model-ric-1.0.0
        tag: v0.6.18
        pullPolicy: IfNotPresent

onos-ric:
  storage:
    consensus:
      enabled: false

onos-e2t:
  storage:
    consensus:
      enabled: false
  servicemodels:
    - name: e2sm_kpm
      version: 1.0.0
      image:
        repository: onosproject/service-model-docker-e2sm_kpm-1.0.0
        tag: v0.7.0
        pullPolicy: IfNotPresent

onos-e2sub:
  storage:
    consensus:
      enabled: false

onos-sdran-cli:
  postInstall:
    placeholder: true
    topo: berlin-honeycomb-4-3-topo.yaml
    toponew: berlin-honeycomb-4-3-toponew.yaml
    config: [ berlin-honeycomb-4-3-gnmi.yaml ]
